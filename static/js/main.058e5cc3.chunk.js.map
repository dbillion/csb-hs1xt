{"version":3,"sources":["shopReducer.js","ShopContext.js","ShopData.js","ProductCard.js","Products.js","Cart.js","App.js","index.js"],"names":["initialState","total","products","shopReducer","state","action","type","payload","console","log","Error","ShopContext","createContext","ShopProvider","children","useReducer","dispatch","updatePrice","forEach","product","price","value","addToCart","updatedCart","concat","removeFromCart","filter","currentProduct","name","Provider","useShop","context","useContext","undefined","shopData","imageUrl","ProductCard","useState","isInCart","setIsInCart","useEffect","productIsInCart","find","Wrapper","background","AddButton","onClick","TextContainer","Title","Subtitle","styled","div","props","p","Products","ProductsWrapper","map","data","index","Cart","key","App","TitleWrapper","href","LinksWrapper","to","path","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.058e5cc3.chunk.js","sourcesContent":["export const initialState = {\n  total: 0,\n  products: []\n};\n\nconst shopReducer = (state, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case \"ADD_TO_CART\":\n      console.log(\"ADD_TO_CART\", payload);\n\n      return {\n        ...state,\n        products: payload.products\n      };\n    case \"REMOVE_FROM_CART\":\n      console.log(\"REMOVE_FROM_CART\", payload);\n\n      return {\n        ...state,\n        products: payload.products\n      };\n    case \"UPDATE_PRICE\":\n      console.log(\"UPDATE_PRICE\", payload);\n\n      return {\n        ...state,\n        total: payload.total\n      };\n    default:\n      throw new Error(`No case for type ${type} found in shopReducer.`);\n  }\n};\n\nexport default shopReducer;\n","import { createContext, useReducer, useContext } from \"react\";\nimport shopReducer, { initialState } from \"./shopReducer\";\n\nconst ShopContext = createContext(initialState);\n\nexport const ShopProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(shopReducer, initialState);\n\n  const addToCart = (product) => {\n    const updatedCart = state.products.concat(product);\n    updatePrice(updatedCart);\n    dispatch({\n      type: \"ADD_TO_CART\",\n      payload: {\n        products: updatedCart\n      }\n    });\n  };\n\n  const removeFromCart = (product) => {\n    const updatedCart = state.products.filter(\n      (currentProduct) => currentProduct.name !== product.name\n    );\n    updatePrice(updatedCart);\n\n    dispatch({\n      type: \"REMOVE_FROM_CART\",\n      payload: {\n        products: updatedCart\n      }\n    });\n  };\n\n  const updatePrice = (products) => {\n    let total = 0;\n    products.forEach((product) => (total += product.price));\n\n    dispatch({\n      type: \"UPDATE_PRICE\",\n      payload: {\n        total\n      }\n    });\n  };\n\n  const value = {\n    total: state.total,\n    products: state.products,\n    addToCart,\n    removeFromCart\n  };\n  return <ShopContext.Provider value={value}>{children}</ShopContext.Provider>;\n};\n\nconst useShop = () => {\n  const context = useContext(ShopContext);\n\n  if (context === undefined) {\n    throw new Error(\"useShop must be used within ShopContext\");\n  }\n\n  return context;\n};\n\nexport default useShop;\n","export const shopData = [\n  {\n    name: \"Shoes\",\n    price: 400,\n    imageUrl:\n      \"https://images.unsplash.com/photo-1560769629-975ec94e6a86?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=928&q=80\"\n  },\n  {\n    name: \"Jacket\",\n    price: 100,\n    imageUrl:\n      \"https://images.unsplash.com/photo-1551028719-00167b16eac5?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80\"\n  },\n  {\n    name: \"Jeans\",\n    price: 200,\n    imageUrl:\n      \"https://images.unsplash.com/photo-1602293589930-45aad59ba3ab?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80\"\n  },\n  {\n    name: \"Beanie\",\n    price: 50,\n    imageUrl:\n      \"https://images.unsplash.com/photo-1576871337632-b9aef4c17ab9?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=774&q=80\"\n  }\n];\n","import { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport useShop from \"./ShopContext\";\n\nconst ProductCard = ({ name, imageUrl, price }) => {\n  const { products, addToCart, removeFromCart } = useShop();\n  const [isInCart, setIsInCart] = useState(false);\n\n  useEffect(() => {\n    const productIsInCart = products.find((product) => product.name === name);\n\n    if (productIsInCart) {\n      setIsInCart(true);\n    } else {\n      setIsInCart(false);\n    }\n  }, [products, name]);\n\n  const handleClick = () => {\n    const product = { name, imageUrl, price };\n\n    if (isInCart) {\n      removeFromCart(product);\n    } else {\n      addToCart(product);\n    }\n  };\n\n  return (\n    <Wrapper background={imageUrl}>\n      <AddButton onClick={handleClick} isInCart={isInCart}>\n        <p>{isInCart ? \"-\" : \"+\"}</p>\n      </AddButton>\n      <TextContainer>\n        <Title>{name}</Title>\n        <Subtitle>{price}.00$</Subtitle>\n      </TextContainer>\n    </Wrapper>\n  );\n};\n\nexport default ProductCard;\n\nconst Wrapper = styled.div`\n  display: grid;\n  align-items: flex-end;\n  width: 240px;\n  height: 340px;\n  border-radius: 20px;\n  box-shadow: 0px 20px 40px rgba(52, 53, 99, 0.2),\n    0px 1px 3px rgba(0, 0, 0, 0.05);\n  background: ${(props) =>\n    props.background && `url(${props.background}) center no-repeat`};\n  background-size: 300px;\n  overflow: hidden;\n  position: relative;\n`;\n\nconst AddButton = styled.div`\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: 20px;\n  right: 20px;\n  width: 20px;\n  height: 20px;\n  background: ${(props) => (props.isInCart ? \"#E55336\" : \"#60c95d\")};\n  border-radius: 50%;\n  padding: 5px;\n  cursor: pointer;\n\n  :hover {\n    transform: scale(1.2);\n    transition: 1s;\n  }\n\n  p {\n    font-size: 20px;\n    margin: 0;\n    color: white;\n  }\n`;\n\nconst TextContainer = styled.div`\n  display: grid;\n  gap: 10px;\n  background: rgba(0, 0, 0, 0.4);\n  backdrop-filter: blur(2px);\n  width: 100%;\n  padding: 20px;\n`;\n\nconst Title = styled.p`\n  font-style: normal;\n  font-weight: 500;\n  font-size: 24px;\n  margin: 0;\n  font-weight: bold;\n  color: #ffffff;\n  margin: 0px;\n`;\n\nconst Subtitle = styled.p`\n  font-weight: normal;\n  font-size: 15px;\n  color: rgba(255, 255, 255, 0.7);\n  margin: 0px;\n`;\n","import styled from \"styled-components\";\n\nimport { shopData } from \"./ShopData\";\nimport ProductCard from \"./ProductCard\";\n\nconst Products = () => {\n  return (\n    <>\n      <Title>Welcome to DC Clothing Shop</Title>\n\n      <ProductsWrapper>\n        {shopData.map((data, index) => (\n          <ProductCard key={index} {...data} />\n        ))}\n      </ProductsWrapper>\n    </>\n  );\n};\n\nexport default Products;\n\nconst Title = styled.p`\n  font-weight: bold;\n  font-size: 20px;\n  margin-top: 20px;\n`;\n\nconst ProductsWrapper = styled.div`\n  width: fit-content;\n  display: grid;\n  grid-template-columns: repeat(2, auto);\n  gap: 20px;\n`;\n","import styled from \"styled-components\";\n\nimport useShop from \"./ShopContext\";\nimport ProductCard from \"./ProductCard\";\n\nconst Cart = () => {\n  const { products, total } = useShop();\n\n  return (\n    <>\n      <Title>Your cart total is {total}.00$</Title>\n      <ProductsWrapper>\n        {products.map((product, index) => (\n          <ProductCard {...product} key={index} />\n        ))}\n      </ProductsWrapper>\n    </>\n  );\n};\n\nexport default Cart;\n\nconst Title = styled.p`\n  font-weight: bold;\n  font-size: 20px;\n  margin-top: 20px;\n`;\n\nconst ProductsWrapper = styled.div`\n  width: fit-content;\n  display: grid;\n  grid-template-columns: repeat(2, auto);\n  gap: 20px;\n`;\n","import styled from \"styled-components\";\nimport { Router, Link } from \"@reach/router\";\n\nimport { ShopProvider } from \"./ShopContext\";\nimport Products from \"./Products\";\nimport Cart from \"./Cart\";\n\nconst App = () => {\n  return (\n    <ShopProvider>\n      <Wrapper>\n        <TitleWrapper>\n          <h1>useReducer Hook</h1>\n          <p>\n            A <a href=\"https://designcode.io/\">Design+Code</a> tutorial\n          </p>\n        </TitleWrapper>\n        <LinksWrapper>\n          <Link to=\"/\">Home</Link>\n          <Link to=\"/cart\">Cart</Link>\n        </LinksWrapper>\n        <Router>\n          <Products path=\"/\" />\n          <Cart path=\"/cart\" />\n        </Router>\n      </Wrapper>\n    </ShopProvider>\n  );\n};\n\nexport default App;\n\nconst Wrapper = styled.div`\n  font-family: \"Roboto\";\n  margin: 40px;\n\n  display: grid;\n  row-gap: 20px;\n  justify-content: center;\n`;\n\nconst TitleWrapper = styled.div`\n  * {\n    margin: 0;\n  }\n\n  display: grid;\n  row-gap: 10px;\n\n  a {\n    text-decoration: none;\n    font-weight: bold;\n    color: black;\n  }\n`;\n\nconst LinksWrapper = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: space-evenly;\n\n  a {\n    text-decoration: none;\n    color: #bb7250;\n\n    :hover {\n      color: #bb7250;\n      font-weight: bold;\n      text-decoration: underline;\n    }\n  }\n`;\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}